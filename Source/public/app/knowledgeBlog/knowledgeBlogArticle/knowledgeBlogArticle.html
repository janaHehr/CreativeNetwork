<!-- TODO: move inline styles to correct scss/less/css file -->
<md-content flex layout="column" style="height: 100vh;">

<md-button style="position: fixed; top: 10px; left: -2px; z-index: 100;" class="md-icon-button" aria-label="Aktionen" ng-click="openSidebar()">
    <i class="icon ion-navicon-round headerBurgerMenu"></i>
</md-button>
<form flex layout="column" layout-padding ng-submit="save()" style="width: 100%; overflow: hidden;" name="form">
   <md-content style="padding-left:100px;">
     <md-input-container>
         <label>Titel</label>
         <input md-maxlength="100" required name="title" ng-model="article.title" ng-click="model.isEditMode=true">
     </md-input-container>
     <md-chips ng-model="article.tags" md-autocomplete-snap md-require-match>
        <md-autocomplete
            ng-click="model.isEditMode=true"
            md-selected-item="model.selectedItem"
            md-search-text="model.searchTerm"
            md-items="item in getTags(model.searchTerm)"
            md-min-length="2"
            md-item-text="item.name"
            placeholder="add some related tags...">
          <span md-highlight-text="model.searchTerm">{{item.name}}</span>
        </md-autocomplete>
        <md-chip-template>
          <span>
            <strong>{{$chip.name}}</strong>
          </span>
        </md-chip-template>
      </md-chips>
   </md-content>

    <md-content flex style="position: relative;">
        <div id="edit" ng-class="{'halfWidth':model.isEditMode}" ui-codemirror="model.editorOptions" ng-model="article.content" sync-scroll preview-container=" 'preview-container' " markdown-container=" 'markdown-container' ">
        </div>
        <div>
            <section ng-class="{'entry-preview-content':model.isEditMode}" id="preview-container">
                <div ng-if="article.content" style="width:60%;margin:auto" sd-model-to-html="article.content" id="markdown-container" />
            </section>
        </div>
    </md-content>
</form>


<md-sidenav layout class="md-sidenav-left md-whiteframe-z2" md-component-id="sidebar">
    <md-content flex ng-controller="SidebarController" layout="column" layout-padding>
        <md-list style="padding-top:40px">
            <!--TODO:selektiertes Element hervorheben und Liste geÃ¶ffnet lassen-->
            <md-list-item class="md-2-line" ng-repeat="entry in entries" ng-click="openEntry(entry)">
                <div class="md-list-item-text">
                    <h3>{{ entry.title }}</h3>
                    <p>{{entry.author}}</p>
                    <p>{{entry.tags}}</p>
                </div>
                <md-divider></md-divider>
            </md-list-item>
        </md-list>
    </md-content>
</md-sidenav>

<nav mfb-menu position="br" effect="slidein-spring" label="{{model.isEditMode?'save changes':'edit'}}" ng-click="model.isEditMode?save():model.isEditMode=true" active-icon="{{model.isEditMode?'ion-checkmark-round':'ion-edit'}}" resting-icon="ion-navicon-round"
toggling-method="hover">
    <button mfb-button icon="ion-star" label="add to favourites" ng-disabled="true" mfb-button-close ng-click=""></button>
    <button mfb-button icon="ion-trash-a" label="delete" ng-click="delete()" mfb-button-close></button>
</nav>
</md-content>
